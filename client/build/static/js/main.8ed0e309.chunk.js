(this["webpackJsonpmern-todo-app-client"]=this["webpackJsonpmern-todo-app-client"]||[]).push([[0],{31:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(12),i=n.n(o),s=(n(31),n(9)),l=n(4),r=n(7),d=n(3),u=n(6),j=n.n(u),b=(n(50),n(51),n(0));function p(e){var t=e.completed,n=e.onToggle,c=e.name,a=e.onClick;return Object(b.jsxs)("li",{className:"Task",children:[Object(b.jsx)("input",{className:"Task__checkbox",type:"checkbox",checked:t,onChange:n}),Object(b.jsx)("p",{onClick:a,className:"Task__name"+(t?" Task__name--completed":""),children:c})]})}var O=n(13),m=n.n(O);n(64);function v(e){var t=e.onClick;return Object(b.jsx)("button",{type:"button","aria-label":"Close",className:"CloseButton",onClick:t,children:Object(b.jsxs)("svg",{width:"44",height:"44",viewBox:"0 0 44 44","aria-hidden":"true",focusable:"false",className:"CloseButton__icon",children:[Object(b.jsx)("path",{d:"M0.549989 4.44999L4.44999 0.549988L43.45 39.55L39.55 43.45L0.549989 4.44999Z"}),Object(b.jsx)("path",{d:"M39.55 0.549988L43.45 4.44999L4.44999 43.45L0.549988 39.55L39.55 0.549988Z"})]})})}var h=n(26),f=(n(65),n(66),["primary","delete","text"]);function x(e){var t=e.children,n=e.variant,c=e.className,a=void 0===c?"":c,o=e.type,i=void 0===o?"button":o,s=e.onClick,l=void 0===s?function(){}:s,r=e.disabled,d=void 0!==r&&r;return Object(b.jsx)("button",{className:"Button "+a+(n&&f.includes(n)?" Button--".concat(n):""),type:i,onClick:l,disabled:d,children:t})}function _(e){var t,n=e.onSave,a=e.onClose,o=void 0===a?function(){}:a,i=e.className,r=void 0===i?"":i,u=e.initialValue,j=void 0===u?"":u,p=e.saveMsg,O=void 0===p?"Save":p,m=e.minRows,v=void 0===m?1.5:m,f=e.required,_=void 0!==f&&f,k=e.multiLine,g=void 0!==k&&k,N=Object(s.a)(e,["onSave","onClose","className","initialValue","saveMsg","minRows","required","multiLine"]),C=Object(c.useState)(j),S=Object(d.a)(C,2),y=S[0],T=S[1],L=Object(c.useState)(!1),M=Object(d.a)(L,2),w=M[0],A=M[1],B=Object(c.createRef)(null);function F(e){e.preventDefault(),t.blur(),A(!1),n(y),o()}function q(){T(j),A(!1),o()}return Object(b.jsxs)("form",{onSubmit:F,className:"Field ".concat(r),onBlur:function(e){B.current.contains(e.relatedTarget)||q()},ref:B,children:[Object(b.jsx)(h.a,Object(l.a)({onChange:function(e){g||"insertLineBreak"!==e.nativeEvent.inputType?T(e.target.value):F(e)},onFocus:function(){return A(!0)},minRows:v,value:y,required:_,ref:function(e){return t=e}},N)),w&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{variant:"primary",type:"submit",disabled:_&&""===y,children:O}),Object(b.jsx)(x,{variant:"text",onClick:q,className:"Field__cancel-button",children:"Cancel"})]})]})}function k(e){var t=e.isOpen,n=e.onClose,c=e.onToggle,a=e.onUpdate,o=e.onDelete,i=e.task,s=void 0===i?{completed:!1,name:"",description:""}:i;return Object(b.jsx)(m.a,{isOpen:t,onRequestClose:n,contentLabel:"Task details",overlayClassName:"Modal",className:"Modal__container container",children:Object(b.jsxs)("div",{className:"Modal__inner-container",children:[Object(b.jsx)("div",{className:"Modal__close-button-wrapper",children:Object(b.jsx)(v,{onClick:n})}),Object(b.jsx)("div",{className:"Modal__checkbox-wrapper",children:Object(b.jsx)("input",{type:"checkbox",checked:s.completed,onChange:c})}),Object(b.jsx)(_,{onSave:function(e){return a({name:e})},initialValue:s.name,required:!0,className:"Modal__name-field"}),Object(b.jsx)(_,{onSave:function(e){return a({description:e})},initialValue:s.description,multiLine:!0,minRows:10,placeholder:"Description",className:"Modal__description-field"}),Object(b.jsx)("div",{className:"Modal__delete-button-wrapper",children:Object(b.jsx)(x,{variant:"delete",onClick:function(){return o()},children:"Delete Task"})})]})})}m.a.setAppElement("#root");n(67);function g(e){var t=e.onSubmit,n=Object(c.useState)(!1),a=Object(d.a)(n,2),o=a[0],i=a[1];return Object(b.jsx)("div",{className:"NewTaskForm",children:o?Object(b.jsx)(_,{onClose:function(){return i(!1)},onSave:t,saveMsg:"Add",autoFocus:!0,required:!0}):Object(b.jsx)("button",{type:"button",onClick:function(){return i(!0)},className:"NewTaskForm__button",children:"+ Add a task"})})}var N="/api/v1";function C(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)([]),i=Object(d.a)(o,2),u=i[0],O=i[1],m=Object(c.useState)(!1),v=Object(d.a)(m,2),h=v[0],f=v[1],x=Object(c.useState)(0),_=Object(d.a)(x,2),C=_[0],S=_[1];function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=!u[e].completed;T({completed:t},e)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,n=u[t]._id,c=u,a=Object(r.a)(u);a[t]=Object(l.a)(Object(l.a)({},a[t]),e),O(a),j.a.patch("/api/v1/"+n,e).catch((function(e){console.log(e),O(c)}))}return Object(c.useEffect)((function(){j.a.get(N).then((function(e){O(e.data),a(!1)})).catch((function(e){return console.error(e)}))}),[]),Object(b.jsxs)("div",{className:"App container",children:[Object(b.jsx)("h1",{className:"App__heading",children:"To-do"}),n?Object(b.jsx)("p",{children:"Loading..."}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"App__list",children:[Object(b.jsx)("ul",{children:u.length?u.map((function(e,t){var n=e._id,c=Object(s.a)(e,["_id"]);return Object(b.jsx)(p,Object(l.a)(Object(l.a)({},c),{},{onToggle:function(){return y(t)},onClick:function(){S(t),f(!0)}}),n)})):Object(b.jsx)("p",{className:"App__empty-msg",children:'You don\'t have any tasks yet! Click "Add a task" to create one. \u2193'})}),Object(b.jsx)(g,{onSubmit:function(e){var t=u,n={name:e,completed:!1,description:""};O([].concat(Object(r.a)(t),[Object(l.a)(Object(l.a)({},n),{},{_id:-1})])),j.a.post(N,n).then((function(e){return O([].concat(Object(r.a)(t),[e.data]))})).catch((function(e){console.log(e),O(t)}))}})]}),Object(b.jsx)(k,{isOpen:h,onClose:function(){f(!1)},onToggle:function(){return y()},onUpdate:T,onDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=u[e]._id,n=u,c=Object(r.a)(u);c.splice(e,1),O(c),f(!1),j.a.delete("/api/v1/"+t).catch((function(e){console.log(e),O(n)}))},task:u[C]})]})]})}i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.8ed0e309.chunk.js.map